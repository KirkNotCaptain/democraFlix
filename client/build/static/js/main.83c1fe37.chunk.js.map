{"version":3,"sources":["context.js","components/movie-card.js","components/choices-list.js","components/choices-container.js","components/movies-list.js","components/movies-container.js","App.js","fetch-requests/fetch.js","config.js","index.js"],"names":["MovieContext","createContext","popularMovies","selectedMovies","setSelectedMovies","updateSharedMovies","MovieCard","movie","context","useContext","console","log","className","onClick","handleSelection","src","poster_path","alt","original_title","title","vote_average","ChoicesList","useEffect","length","map","ChoicesContainer","MoviesList","MoviesContainer","client","W3CWebSocket","App","useState","setPopularMovies","isLoggedIn","setUsername","onopen","Promise","resolve","reject","axios","get","then","data","results","onmessage","JSON","parse","Provider","value","send","stringify","Input","labelText","id","formControlProps","fullWidth","onChange","e","currentTarget","type","Button","color","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0QASeA,EAPMC,wBAAc,CACjCC,cAAe,GACfC,eAAgB,GAChBC,kBAAmB,aACnBC,mBAAoB,e,OC0BPC,EA5BC,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACXC,EAAUC,qBAAWT,GAC3BU,QAAQC,IAAI,kBAAmBH,EAAQL,gBAQvC,OACE,sBACES,UAAU,aACVC,QAAS,YATS,SAACN,GACrBG,QAAQC,IAAI,mBAAoBJ,GAChCC,EAAQH,mBAAmBE,GAQvBO,CAAgBP,IAHpB,UAME,qBACEK,UAAU,YACVG,IAAG,6CAAwCR,EAAMS,aACjDC,IAAKV,EAAMW,iBAEb,+BAAOX,EAAMY,QACb,+BAAOZ,EAAMa,mBCAJC,EAtBG,WAChB,IAAMb,EAAUC,qBAAWT,GAE3BsB,qBAAU,cAAU,CAACd,EAAQL,iBAgB7B,OAbMK,EAAQL,eAAeoB,OAEvB,qBAAKX,UAAU,eAAf,SACGJ,EAAQL,eAAeqB,KAAI,SAACjB,GAC3B,OAAO,cAAC,EAAD,CAAWA,MAAOA,SAKxB,8BCNEkB,EAXQ,WACrB,OACE,mCACE,sBAAKb,UAAU,oBAAf,UACE,oBAAIA,UAAU,QAAd,0BACA,cAAC,EAAD,UCQOc,EAXE,WACf,IAAMlB,EAAUC,qBAAWT,GAC3B,OACE,qBAAKY,UAAU,cAAf,SACGJ,EAAQN,cAAcsB,KAAI,SAACjB,GAC1B,OAAO,cAAC,EAAD,CAAWA,MAAOA,GAAYA,EAAMY,aCKpCQ,EAXO,WACpB,OACE,mCACE,sBAAKf,UAAU,mBAAf,UACE,oBAAIA,UAAU,QAAd,yCACA,cAAC,EAAD,UCEFgB,EAAS,IAAIC,eAAa,uBAsEjBC,MApEf,WAAgB,IAAD,EAC6BC,mBAAS,IADtC,mBACN7B,EADM,KACS8B,EADT,OAE+BD,mBAAS,IAFxC,mBAEN5B,EAFM,KAEUC,EAFV,OAGuB2B,oBAAS,GAHhC,mBAGNE,EAHM,aAImBF,mBAAS,KAJ5B,mBAIIG,GAJJ,WA6Bb,OAnBAZ,qBAAU,WACRM,EAAOO,OAAS,WACdzB,QAAQC,IAAI,+BCpBT,IAAIyB,SAAQ,SAACC,EAASC,GAC3BC,IACGC,IADH,6DCNY,qCDQTC,MAAK,SAACC,GACLL,EAAQK,SDmBAD,MAAK,SAACC,GAChBV,EAAiBU,EAAKA,KAAKC,YAG7Bf,EAAOgB,UAAY,SAACrC,GAClBG,QAAQC,IAAI,2BAA4BkC,KAAKC,MAAMvC,EAAMmC,OACzDtC,EAAkB,GAAD,mBAAKD,GAAL,CAAqB0C,KAAKC,MAAMvC,EAAMmC,YAExD,CAACvC,IAMC8B,EAmBD,cAAC,EAAac,SAAd,CACEC,MAAO,CACL9C,gBACAC,iBACAC,oBACAC,mBA/CiB,SAACE,GACxBqB,EAAOqB,KAAKJ,KAAKK,UAAU3C,MAyCzB,SAQE,sBAAKK,UAAU,MAAf,UACE,wBAAQA,UAAU,aAAlB,SACE,+CAEF,cAAC,EAAD,IACA,cAAC,EAAD,SA9BJ,qBAAKA,UAAU,MAAf,SACE,uBAAMA,UAAU,aAAhB,UACE,cAACuC,EAAA,EAAD,CACEC,UAAU,WACVC,GAAG,WACHC,iBAAkB,CAAEC,WAAW,GAC/BC,SAZW,SAACC,GACpBvB,EAAYuB,EAAEC,cAAcL,KAYpBM,KAAK,SAEP,cAACC,EAAA,EAAD,CAAQD,KAAK,SAASE,MAAM,UAAUjD,UAAU,sBAAhD,0BGhDVkD,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.83c1fe37.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst MovieContext = createContext({\n  popularMovies: [],\n  selectedMovies: [],\n  setSelectedMovies: () => {},\n  updateSharedMovies: () => {},\n});\n\nexport default MovieContext;\n","import '../App.css';\nimport { useContext } from 'react';\nimport MovieContext from '../context.js';\n\nvar MovieCard = ({ movie }) => {\n  const context = useContext(MovieContext);\n  console.log('shared movies: ', context.selectedMovies);\n\n  var handleSelection = (movie) => {\n    console.log('SELECTED MOVIE: ', movie);\n    context.updateSharedMovies(movie);\n    // context.setSelectedMovies([...context.selectedMovies, movie]);\n  };\n\n  return (\n    <div\n      className=\"movie-card\"\n      onClick={() => {\n        handleSelection(movie);\n      }}\n    >\n      <img\n        className=\"movie-img\"\n        src={`https://image.tmdb.org/t/p/original${movie.poster_path}`}\n        alt={movie.original_title}\n      />\n      <span>{movie.title}</span>\n      <span>{movie.vote_average}</span>\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import '../App.css';\nimport { useContext, useEffect } from 'react';\nimport MovieContext from '../context.js';\nimport MovieCard from './movie-card';\n\nvar ChoicesList = () => {\n  const context = useContext(MovieContext);\n\n  useEffect(() => {}, [context.selectedMovies]);\n\n  const displayUserSelection = () => {\n    if (context.selectedMovies.length) {\n      return (\n        <div className=\"choices-list\">\n          {context.selectedMovies.map((movie) => {\n            return <MovieCard movie={movie} />;\n          })}\n        </div>\n      );\n    } else {\n      return <></>;\n    }\n  };\n\n  return displayUserSelection();\n};\n\nexport default ChoicesList;\n","import '../App.css';\nimport ChoicesList from './choices-list.js';\n\nvar ChoicesContainer = () => {\n  return (\n    <>\n      <div className=\"choices-container\">\n        <h1 className=\"title\">User Choices</h1>\n        <ChoicesList />\n      </div>\n    </>\n  );\n};\n\nexport default ChoicesContainer;\n","import '../App.css';\nimport { useContext } from 'react';\nimport MovieContext from '../context.js';\nimport MovieCard from './movie-card.js';\n\nvar MoviesList = () => {\n  const context = useContext(MovieContext);\n  return (\n    <div className=\"movies-list\">\n      {context.popularMovies.map((movie) => {\n        return <MovieCard movie={movie} key={movie.title} />;\n      })}\n    </div>\n  );\n};\n\nexport default MoviesList;\n","import '../App.css';\nimport './movies-list';\nimport MoviesList from './movies-list';\n\nvar MoviesContainer = () => {\n  return (\n    <>\n      <div className=\"movies-container\">\n        <h1 className=\"title\">Today's Most Popular Movies</h1>\n        <MoviesList />\n      </div>\n    </>\n  );\n};\n\nexport default MoviesContainer;\n","import './App.css';\nimport { getLatest } from './fetch-requests/fetch.js';\nimport { useEffect, useState } from 'react';\nimport { w3cwebsocket as W3CWebSocket } from 'websocket';\n// import CustomInput from './components/CustomInput';\n// import Button from './components/Button';\nimport { Button, Input } from '@material-ui/core';\nimport ChoicesContainer from './components/choices-container.js';\nimport MoviesContainer from './components/movies-container.js';\nimport MovieContext from './context.js';\n\nconst client = new W3CWebSocket('ws://127.0.0.1:8000');\n\nfunction App() {\n  const [popularMovies, setPopularMovies] = useState([]);\n  const [selectedMovies, setSelectedMovies] = useState([]);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userName, setUsername] = useState('');\n\n  var updateSharedMovies = (movie) => {\n    client.send(JSON.stringify(movie));\n  };\n\n  useEffect(() => {\n    client.onopen = () => {\n      console.log('WebSocket Client Connected');\n    };\n\n    getLatest().then((data) => {\n      setPopularMovies(data.data.results);\n    });\n\n    client.onmessage = (movie) => {\n      console.log('message from websocket: ', JSON.parse(movie.data));\n      setSelectedMovies([...selectedMovies, JSON.parse(movie.data)]);\n    };\n  }, [selectedMovies]);\n\n  var handleUsername = (e) => {\n    setUsername(e.currentTarget.id);\n  };\n\n  if (!isLoggedIn) {\n    return (\n      <div className=\"App\">\n        <form className=\"login-form\">\n          <Input\n            labelText=\"Username\"\n            id=\"username\"\n            formControlProps={{ fullWidth: true }}\n            onChange={handleUsername}\n            type=\"text\"\n          />\n          <Button type=\"button\" color=\"primary\" className=\"form__custom-button\">\n            Log in\n          </Button>\n        </form>\n      </div>\n    );\n  } else {\n    return (\n      <MovieContext.Provider\n        value={{\n          popularMovies,\n          selectedMovies,\n          setSelectedMovies,\n          updateSharedMovies,\n        }}\n      >\n        <div className=\"App\">\n          <header className=\"App-header\">\n            <h1>DemocraFlix</h1>\n          </header>\n          <ChoicesContainer />\n          <MoviesContainer />\n        </div>\n      </MovieContext.Provider>\n    );\n  }\n}\n\nexport default App;\n","import 'axios';\nimport axios from 'axios';\nimport API_KEY from '../config.js';\n\nvar getLatest = () => {\n  return new Promise((resolve, reject) => {\n    axios\n      .get(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}`)\n      .then((data) => {\n        resolve(data);\n      });\n  });\n};\n\nexport { getLatest };\n","const API_KEY = '4f5b4c4ea41d8b0d1ea169b9384f0dda';\nexport default API_KEY;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}